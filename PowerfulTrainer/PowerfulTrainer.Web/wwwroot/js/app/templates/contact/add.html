<div layout="column">
    <form name="searchForm" layout-fill ng-submit="search(searchForm)">
        <div layout="row" layout-align="center center" style="margin-bottom:-32px">
            <md-input-container class="md-block" flex flex-gt-xs="60">
                <label>Search...</label>
                <input ng-model="searchStr" ng-change="search(searchForm)" required minlength="1" md-autofocus="autofocus"/>
            </md-input-container>
        </div>
        <div layout="row" layout-align="center center" ng-hide="true">
            <md-button type="submit" class="md-fab" aria-label="Search" ng-disabled="!searchForm.$valid">
                <md-tooltip md-direction="right" ng-hide="hideTooltipOnXS">
                    Search
                </md-tooltip>
                <md-icon md-font-icon="fa fa-search fa-15x"></md-icon>
            </md-button>
        </div>
    </form>
    <md-card class="white" ng-show="showResults && searchStr.length">
        <md-card-content>
            <div layout="row" layout-align="center center" ng-show="results.length==0">
                <h3>Oops...Cannot find any contact with key "{{showResults}}".</h3>
            </div>
            <md-list ng-hide="results && results.length==0">
                <md-subheader class="md-no-sticky">Results for "{{showResults}}"</md-subheader>
                <md-list-item md-ink-ripple class="md-2-line" ng-repeat="contact in results">
                    <img src="../images/avatar-default.png" data-ng-src="{{contact.Avatar}}" class="md-avatar">
                    <div class="md-list-item-text">
                        <h3><b>{{contact.Name || contact.Username}}</b></h3>
                        <p>
                            {{contact.Username}}
                            <span ng-show="contact.Type"> (Trainer)</span>
                        </p>
                    </div>
                    <div class="md-secondary" layout="row">
                        <md-chips>
                            <md-chip ng-show="contact.IsWaitingResponse">Request sent</md-chip>
                            <md-chip class="pointer" ng-show="contact.IsWaitingAccept" ng-click="accept(contact)">
                                <i class="fa fa-check"></i>
                                Accept
                            </md-chip>
                            <md-chip class="pointer" ng-show="contact.IsWaitingAccept" ng-click="decline(contact)">
                                <i class="fa fa-trash"></i>
                                Decline
                            </md-chip>
                            <md-chip ng-show="contact.IsFriend">Friend</md-chip>
                            <md-chip class="pointer" ng-show="!contact.IsWaitingResponse&&!contact.IsWaitingAccept&&!contact.IsFriend"
                                     ng-click="add($event, contact)">
                                <i class="fa fa-plus"></i>
                                Add
                            </md-chip>
                        </md-chips>
                    </div>
                    <md-divider ng-if="!$last"></md-divider>
                </md-list-item>
            </md-list>
            <md-table-pagination ng-hide="query.total<=query.limit" md-limit="query.limit" md-limit-options="query.limitOptions" md-page="query.page" md-label="{page: 'Page:', rowsPerPage: 'Per page:', of: 'of'}"
                                 md-total="{{query.total}}" md-on-paginate="queryResults" md-page-select></md-table-pagination>
        </md-card-content>
    </md-card>
</div>