<md-toolbar md-whiteframe="2">
    <div class="md-toolbar-tools">
        <md-button hide-gt-sm class="md-icon-button" aria-label="Left navigation toggle" ng-click="toggleNavLeft()" ng-controller="DashboardCtrl">
            <md-icon md-font-icon="fa fa-bars fa-15x"></md-icon>
        </md-button>
        <md-input-container md-no-float md-theme="default-dark" style="margin-top:12px;font-size:18px">
            <md-select ng-model="chartType">
                <md-option ng-repeat="t in chartTypes" value="{{t}}" ng-click="updateChartType(t)">{{t.capitalizeFirstLetter()}}</md-option>
            </md-select>
        </md-input-container>
        <span flex></span>
        <div layout="row" layout-align="end center" ng-hide="hideTooltipOnXS">
            <h2 ng-if="period=='daily'">{{startTime | date: 'MMM d'}} - {{endTime | date: 'MMM d, yyyy'}}</h2>
            <h2 ng-if="period=='hourly'">{{startTime | date: 'EEE, MMM d, yyyy'}}</h2>
            <md-button class="md-icon-button" aria-label="Change date" ng-click="showDatePicker($event)">
                <md-tooltip direction="bottom" ng-hide="hideTooltipOnXS">
                    Change date
                </md-tooltip>
                <md-icon md-font-icon="fa fa-calendar"></md-icon>
            </md-button>
        </div>
        <md-input-container ng-hide="chartType=='sleeps'" md-no-float md-theme="default-dark" style="margin-top:12px;font-size:18px">
            <md-select ng-model="period">
                <md-option ng-repeat="p in ['hourly', 'daily'] track by $index" ng-click="updatePeriod(p)" value="{{p}}">{{p.capitalizeFirstLetter()}}</md-option>
            </md-select>
        </md-input-container>
    </div>
</md-toolbar>
<md-content flex>
    <div layout="row" ng-show="hideTooltipOnXS" layout-align="end center">
        <h3 ng-if="period=='daily'">{{startTime | date: 'MMM d'}} - {{endTime | date: 'MMM d, yyyy'}}</h3>
        <h3 ng-if="period=='hourly'">{{startTime | date: 'EEE, MMM d, yyyy'}}</h3>
        <md-button class="md-icon-button" aria-label="Change date" ng-click="showDatePicker($event)">
            <md-tooltip direction="bottom" ng-hide="hideTooltipOnXS">
                Change date
            </md-tooltip>
            <md-icon md-font-icon="fa fa-calendar"></md-icon>
        </md-button>
    </div>
    <div layout-padding>
        <state-card ng-show="summaryState" title="{{summaryState.showTitle?summaryState.title:null}}" value="{{summaryState.value}}" unit="{{summaryState.unit}}" values="summaryState.values" units="summaryState.units"></state-card>
        <highchart config="chartConfig"></highchart>
        <md-card>
            <md-card-content>
                <div layout="column" layout-gt-sm="row" flex ng-repeat="state in chartStates" ng-if="$index%4==0">
                    <div layout="row" layout-padding flex>
                        <state-card ng-if="chartStates[$index]" title="{{chartStates[$index].title}}" value="{{chartStates[$index].value}}" unit="{{chartStates[$index].unit}}"
                                    values="chartStates[$index].values" units="chartStates[$index].units" info="{{chartStates[$index].info}}"></state-card>
                        <state-card ng-if="chartStates[$index+1]" title="{{chartStates[$index+1].title}}" value="{{chartStates[$index+1].value}}" unit="{{chartStates[$index+1].unit}}"
                                    values="chartStates[$index+1].values" units="chartStates[$index+1].units" info="{{chartStates[$index+1].info}}"></state-card>
                    </div>
                    <div layout="row" layout-padding flex>
                        <state-card ng-if="chartStates[$index+2]" title="{{chartStates[$index+2].title}}" value="{{chartStates[$index+2].value}}" unit="{{chartStates[$index+2].unit}}"
                                    values="chartStates[$index+2].values" units="chartStates[$index+2].units" info="{{chartStates[$index+2].info}}"></state-card>
                        <state-card ng-if="chartStates[$index+3]" title="{{chartStates[$index+3].title}}" value="{{chartStates[$index+3].value}}" unit="{{chartStates[$index+3].unit}}"
                                    values="chartStates[$index+3].values" units="chartStates[$index+3].units" info="{{chartStates[$index+3].info}}"></state-card>
                    </div>
                </div>
            </md-card-content>
        </md-card>
    </div>
</md-content>