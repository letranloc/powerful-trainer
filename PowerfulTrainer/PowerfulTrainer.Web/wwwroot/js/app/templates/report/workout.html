<md-toolbar md-whiteframe="2">
    <div class="md-toolbar-tools">
        <md-button hide-gt-sm class="md-icon-button" aria-label="Left navigation toggle" ng-click="toggleNavLeft()" ng-controller="DashboardCtrl">
            <md-icon md-font-icon="fa fa-bars fa-15x"></md-icon>
        </md-button>
        <h2>
            <b>Workout report</b>
        </h2>
        <span flex></span>
        <h2>{{selectedDate.toISOString() | date: 'EEE, MMM d, yyyy'}}</h2>
        <md-button class="md-icon-button" aria-label="Change date" ng-click="showDatePicker($event)">
            <md-tooltip direction="bottom" ng-hide="hideTooltipOnXS">
                Change date
            </md-tooltip>
            <md-icon md-font-icon="fa fa-calendar"></md-icon>
        </md-button>
    </div>
</md-toolbar>
<md-content flex>
    <md-card ng-show="reports.length==0">
        <md-card-header>
            <md-card-header-text>
                <span class="md-title" ng-hide="hideMessageWorkout || !isOwnReport">Oops...Go to plans and start a workout. Don't forget to wear your Band to track your progress.</span>
                <span class="md-title" ng-show="hideMessageWorkout||!isOwnReport">Oops...{{isOwnReport?'You': username}} don't have any workout on this day.</span>
            </md-card-header-text>
        </md-card-header>
        <md-card-content>
            <md-button class="md-raised md-primary" ng-click="startWorkoutOrChangeDate($event)">
                {{hideMessageWorkout||!isOwnReport?'Change date':'Start workout'}}
                <md-icon ng-hide="hideMessageWorkout||!isOwnReport" md-font-icon="fa fa-arrow-right" class="white-text"></md-icon>
            </md-button>
        </md-card-content>
    </md-card>
    <md-card ng-repeat="report in reports">
        <md-card-header ng-class="{'teal': report.IsGoal}">
            <md-card-header-text layout="row">
                <div layout="column">
                    <span class="md-title" ng-class="{'white-text': report.IsGoal}">{{report.BeginTime | date: 'EEE, MMM d, yyyy hh:mm a'}}</span>
                    <span class="md-subhead" ng-class="{'white-text': report.IsGoal}">{{report.PlanName}} by {{report.Username}}</span>
                </div>
                <span flex></span>
                <md-button class="md-icon-button" ng-show="report.IsGoal" aria-label="Goal">
                    <md-icon md-font-icon="fa fa-trophy fa-2x" class="amber-text"></md-icon>
                </md-button>
            </md-card-header-text>
        </md-card-header>
        <md-card-content>
            <div layout="column" layout-gt-sm="row" flex layout-padding>
                <div layout="row" flex>
                    <state-card title="Duration" values="report.DurationArr" units="['m', 's']"></state-card>
                    <state-card title="Calories burned" value="{{report.TotalCals}}" unit="cals"></state-card>
                </div>
                <div layout="row" flex>
                    <state-card title="Total steps" value="{{report.TotalSteps}}" unit="steps"></state-card>
                    <state-card title="Average HR" value="{{report.AvgHeartRate | number: 0}}" unit="bpm"></state-card>
                </div>
            </div>
        </md-card-content>
    </md-card>
</md-content>